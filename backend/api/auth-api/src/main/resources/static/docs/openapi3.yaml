openapi: 3.0.1
info:
  title: Zenless Auth API
  description: Zenless 프로젝트 인증 API 문서
  version: 1.0.0
servers:
- url: http://localhost:8080
tags: []
paths:
  /api/v1/auth/me:
    get:
      tags:
      - 인증
      summary: 내 정보 조회
      description: 현재 로그인한 사용자의 정보를 조회합니다.
      operationId: auth-me
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
              examples:
                auth-me:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"id\":\"1\",\"email\"\
                    :\"user@example.com\",\"nickname\":\"테스트유저\",\"role\":\"USER\"\
                    ,\"createdAt\":\"2025-12-25T16:33:25.459821963\",\"hasPassword\"\
                    :true,\"profileImageUrl\":null},\"error\":null}"
  /api/v1/auth/refresh:
    post:
      tags:
      - 인증
      summary: 토큰 갱신
      description: 리프레시 토큰으로 새 액세스 토큰을 발급받습니다.
      operationId: auth-refresh
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshTokenRequest"
            examples:
              auth-refresh:
                value: "{\"refreshToken\":\"valid-refresh-token\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenResponse"
              examples:
                auth-refresh:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"accessToken\":\"new-access-token\"\
                    ,\"refreshToken\":\"new-refresh-token\",\"tokenType\":\"Bearer\"\
                    ,\"expiresIn\":3600},\"error\":null}"
  /api/v1/auth/sessions:
    get:
      tags:
      - 세션
      summary: 활성 세션 목록 조회
      description: 현재 사용자의 모든 활성 세션 목록을 조회합니다.
      operationId: sessions-get-all
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SessionListResponse"
              examples:
                sessions-get-all:
                  value: "{\"result\":\"SUCCESS\",\"data\":[{\"id\":1,\"createdAt\"\
                    :\"2024-01-01T10:00:00\",\"expiresAt\":\"2024-01-08T10:00:00\"\
                    ,\"userAgent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0\"\
                    ,\"ipAddress\":\"192.168.1.100\",\"deviceInfo\":\"Desktop - Windows\"\
                    },{\"id\":2,\"createdAt\":\"2024-01-02T14:30:00\",\"expiresAt\"\
                    :\"2024-01-09T14:30:00\",\"userAgent\":\"Mozilla/5.0 (iPhone;\
                    \ CPU iPhone OS 17_0)\",\"ipAddress\":\"10.0.0.50\",\"deviceInfo\"\
                    :\"Mobile - iOS\"}],\"error\":null}"
  /api/v1/auth/signin:
    post:
      tags:
      - 인증
      summary: 로그인
      description: 이메일과 비밀번호로 로그인합니다.
      operationId: auth-signin
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignInRequest"
            examples:
              auth-signin:
                value: "{\"email\":\"user@example.com\",\"password\":\"Password123!\"\
                  }"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
              examples:
                auth-signin:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"user\":{\"id\":\"1\"\
                    ,\"email\":\"user@example.com\",\"nickname\":\"테스트유저\",\"role\"\
                    :\"USER\",\"profileImageUrl\":null,\"hasPassword\":true},\"token\"\
                    :\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\"refreshToken\"\
                    :null},\"error\":null}"
  /api/v1/auth/signout:
    post:
      tags:
      - 인증
      summary: 로그아웃
      description: 현재 세션에서 로그아웃합니다.
      operationId: auth-signout
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api-v1-auth-signout-930984925"
              examples:
                auth-signout:
                  value: "{\"result\":\"SUCCESS\",\"data\":null,\"error\":null}"
  /api/v1/auth/signup:
    post:
      tags:
      - 인증
      summary: 회원가입
      description: "이메일, 비밀번호, 닉네임으로 새 계정을 생성합니다."
      operationId: auth-signup
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignUpRequest"
            examples:
              auth-signup:
                value: "{\"email\":\"user@example.com\",\"password\":\"Password123!\"\
                  ,\"nickname\":\"테스트유저\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
              examples:
                auth-signup:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"user\":{\"id\":\"1\"\
                    ,\"email\":\"user@example.com\",\"nickname\":\"테스트유저\",\"role\"\
                    :\"USER\",\"profileImageUrl\":null,\"hasPassword\":true},\"token\"\
                    :\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\"refreshToken\"\
                    :null},\"error\":null}"
  /api/v1/auth/sessions/revoke-others:
    post:
      tags:
      - 세션
      summary: 다른 모든 세션 종료
      description: 현재 세션을 제외한 모든 다른 세션을 종료합니다.
      operationId: sessions-revoke-others
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RevokeOthersResponse"
              examples:
                sessions-revoke-others:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"revokedCount\":3},\"\
                    error\":null}"
  /api/v1/auth/sessions/{sessionId}:
    delete:
      tags:
      - 세션
      summary: 특정 세션 종료
      description: 지정된 세션을 강제 종료합니다.
      operationId: sessions-revoke
      parameters:
      - name: sessionId
        in: path
        description: 종료할 세션 ID
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BooleanResponse"
              examples:
                sessions-revoke:
                  value: "{\"result\":\"SUCCESS\",\"data\":true,\"error\":null}"
components:
  schemas:
    TokenResponse:
      title: TokenResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - accessToken
          - expiresIn
          - refreshToken
          - tokenType
          type: object
          properties:
            expiresIn:
              type: number
              description: 만료 시간 (초)
            tokenType:
              type: string
              description: 토큰 타입 (Bearer)
            accessToken:
              type: string
              description: 새 액세스 토큰
            refreshToken:
              type: string
              description: 새 리프레시 토큰
          description: 응답 데이터
    api-v1-auth-signout-930984925:
      required:
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
    RefreshTokenRequest:
      title: RefreshTokenRequest
      required:
      - refreshToken
      type: object
      properties:
        refreshToken:
          type: string
          description: 리프레시 토큰
    SignInRequest:
      title: SignInRequest
      required:
      - email
      - password
      type: object
      properties:
        password:
          type: string
          description: 비밀번호
        email:
          type: string
          description: 이메일 주소
    SignUpRequest:
      title: SignUpRequest
      required:
      - email
      - nickname
      - password
      type: object
      properties:
        password:
          type: string
          description: 비밀번호 (8자 이상)
        nickname:
          type: string
          description: 닉네임 (2-50자)
        email:
          type: string
          description: 이메일 주소
    AuthResponse:
      title: AuthResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - token
          - user
          type: object
          properties:
            user:
              required:
              - email
              - hasPassword
              - id
              - nickname
              - role
              type: object
              properties:
                role:
                  type: string
                  description: 역할
                nickname:
                  type: string
                  description: 닉네임
                hasPassword:
                  type: boolean
                  description: 비밀번호 설정 여부
                id:
                  type: string
                  description: 사용자 ID
                profileImageUrl:
                  type: string
                  description: 프로필 이미지 URL
                  nullable: true
                email:
                  type: string
                  description: 이메일
              description: 사용자 정보
            refreshToken:
              type: string
              description: 리프레시 토큰
              nullable: true
            token:
              type: string
              description: JWT 액세스 토큰
          description: 응답 데이터
    BooleanResponse:
      title: BooleanResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          type: boolean
          description: 종료 성공 여부
    UserResponse:
      title: UserResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - createdAt
          - email
          - hasPassword
          - id
          - nickname
          - role
          type: object
          properties:
            createdAt:
              type: string
              description: 가입일
            role:
              type: string
              description: 역할
            nickname:
              type: string
              description: 닉네임
            hasPassword:
              type: boolean
              description: 비밀번호 설정 여부
            id:
              type: string
              description: 사용자 ID
            profileImageUrl:
              type: string
              description: 프로필 이미지 URL
              nullable: true
            email:
              type: string
              description: 이메일
          description: 응답 데이터
    SessionListResponse:
      title: SessionListResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          type: array
          description: 세션 목록
          items:
            required:
            - createdAt
            - expiresAt
            - id
            type: object
            properties:
              createdAt:
                type: string
                description: 세션 생성일시
              ipAddress:
                type: string
                description: IP 주소
                nullable: true
              userAgent:
                type: string
                description: User Agent
                nullable: true
              id:
                type: number
                description: 세션 ID
              deviceInfo:
                type: string
                description: 디바이스 정보
                nullable: true
              expiresAt:
                type: string
                description: 세션 만료일시
    RevokeOthersResponse:
      title: RevokeOthersResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - revokedCount
          type: object
          properties:
            revokedCount:
              type: number
              description: 종료된 세션 수
          description: 응답 데이터
