openapi: 3.0.1
info:
  title: Zenless Auth API
  description: Zenless 프로젝트 인증 API 문서
  version: 1.0.0
servers:
- url: http://localhost:8080
tags: []
paths:
  /api/v1/api-tokens:
    get:
      tags:
      - API 토큰
      summary: 전체 API 토큰 목록 조회
      description: 사용자의 모든 API 토큰 목록을 조회합니다.
      operationId: api-tokens-get-all
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiTokenListResponse"
              examples:
                api-tokens-get-all:
                  value: "{\"result\":\"SUCCESS\",\"data\":[{\"id\":1,\"serviceId\"\
                    :\"MAPLESTORY\",\"name\":\"메이플 토큰\",\"token\":\"test-token-value-1\"\
                    ,\"createdAt\":\"2025-12-06T02:20:44.688581901\",\"lastUsedAt\"\
                    :null},{\"id\":2,\"serviceId\":\"LOSTARK\",\"name\":\"로아 토큰\"\
                    ,\"token\":\"test-token-value-2\",\"createdAt\":\"2025-12-06T02:20:44.688595126\"\
                    ,\"lastUsedAt\":null}],\"error\":null}"
    post:
      tags:
      - API 토큰
      summary: API 토큰 등록
      description: 새로운 API 토큰을 등록합니다.
      operationId: api-tokens-register
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterApiTokenRequest"
            examples:
              api-tokens-register:
                value: "{\"serviceId\":\"MAPLESTORY\",\"name\":\"새 메이플 토큰\",\"token\"\
                  :\"api-token-value-here\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiTokenResponse"
              examples:
                api-tokens-register:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"id\":1,\"serviceId\"\
                    :\"MAPLESTORY\",\"name\":\"새 메이플 토큰\",\"token\":\"test-token-value-1\"\
                    ,\"createdAt\":\"2025-12-06T02:20:44.832617684\",\"lastUsedAt\"\
                    :null},\"error\":null}"
  /api/v1/nicknames:
    get:
      tags:
      - 닉네임
      summary: 닉네임 목록 조회
      description: |-
        닉네임 목록을 페이지네이션하여 조회합니다.

        **정렬 옵션:**
        - SCORE_DESC: 점수 높은 순 (기본값)
        - UPDATED_DESC: 최근 업데이트 순
        - UPDATED_ASC: 오래된 업데이트 순

        **게임 필터 모드:**
        - OR: 선택한 게임 중 하나라도 포함 (기본값)
        - AND: 선택한 게임 모두 포함
      operationId: nicknames-get-list
      parameters:
      - name: games
        in: query
        description: "게임 필터 (쉼표 구분, 예: MAPLESTORY,LOSTARK)"
        required: false
        schema:
          type: string
      - name: rarities
        in: query
        description: "희귀도 필터 (쉼표 구분, 예: SSS,SS,S)"
        required: false
        schema:
          type: string
      - name: search
        in: query
        description: 닉네임 검색어
        required: false
        schema:
          type: string
      - name: sort
        in: query
        description: "정렬 기준 (SCORE_DESC, UPDATED_DESC, UPDATED_ASC)"
        required: false
        schema:
          type: string
      - name: gameMode
        in: query
        description: "게임 필터 모드 (OR, AND)"
        required: false
        schema:
          type: string
      - name: page
        in: query
        description: "페이지 번호 (기본값: 1)"
        required: false
        schema:
          type: string
      - name: size
        in: query
        description: "페이지 크기 (기본값: 20)"
        required: false
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NicknamePageResponse"
              examples:
                nicknames-get-list:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"nicknames\":[{\"id\"\
                    :1,\"nickname\":\"테스트닉\",\"games\":[\"MAPLESTORY\"],\"mapleStoryInfo\"\
                    :null,\"lostArkInfo\":null,\"score\":150,\"rarity\":\"S\",\"createdAt\"\
                    :\"2024-01-01T00:00:00\",\"updatedAt\":\"2024-01-15T12:30:00\"\
                    },{\"id\":2,\"nickname\":\"고급닉네임\",\"games\":[\"MAPLESTORY\",\"\
                    LOSTARK\"],\"mapleStoryInfo\":null,\"lostArkInfo\":null,\"score\"\
                    :280,\"rarity\":\"SSS\",\"createdAt\":\"2024-01-02T00:00:00\"\
                    ,\"updatedAt\":\"2024-01-20T15:00:00\"}],\"totalElements\":100,\"\
                    totalPages\":5,\"currentPage\":1,\"pageSize\":20,\"hasNext\":true},\"\
                    error\":null}"
                nicknames-get-list-filtered:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"nicknames\":[{\"id\"\
                    :1,\"nickname\":\"메이플닉\",\"games\":[\"MAPLESTORY\"],\"mapleStoryInfo\"\
                    :null,\"lostArkInfo\":null,\"score\":200,\"rarity\":\"SS\",\"\
                    createdAt\":\"2024-01-01T00:00:00\",\"updatedAt\":\"2024-01-15T12:30:00\"\
                    }],\"totalElements\":1,\"totalPages\":1,\"currentPage\":1,\"pageSize\"\
                    :20,\"hasNext\":false},\"error\":null}"
    post:
      tags:
      - 닉네임
      summary: 닉네임 저장
      description: |-
        닉네임을 일괄 저장합니다.

        **게임 타입:**
        - MAPLESTORY: 메이플스토리
        - LOSTARK: 로스트아크

        **참고:**
        - 이미 존재하는 닉네임은 점수가 더 높은 경우에만 업데이트됩니다.
        - 점수가 낮은 경우 스킵됩니다.
      operationId: nicknames-save
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SaveNicknameRequestList"
            examples:
              nicknames-save:
                value: "[{\"nickname\":\"새닉네임\",\"game\":\"MAPLESTORY\",\"worldName\"\
                  :\"스카니아\",\"className\":\"아크\",\"characterLevel\":280,\"guildName\"\
                  :\"테스트길드\"},{\"nickname\":\"로아닉\",\"game\":\"LOSTARK\",\"worldName\"\
                  :\"카단\",\"className\":\"버서커\",\"characterLevel\":1620,\"guildName\"\
                  :null}]"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SaveNicknameResultResponse"
              examples:
                nicknames-save:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"savedCount\":2,\"message\"\
                    :\"2개 저장 완료\"},\"error\":null}"
  /api/v1/api-tokens/{tokenId}:
    get:
      tags:
      - API 토큰
      summary: 단일 API 토큰 조회
      description: 특정 API 토큰의 상세 정보를 조회합니다.
      operationId: api-tokens-get-one
      parameters:
      - name: tokenId
        in: path
        description: 토큰 ID
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiTokenResponse"
              examples:
                api-tokens-get-one:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"id\":1,\"serviceId\"\
                    :\"MAPLESTORY\",\"name\":\"메이플 토큰\",\"token\":\"test-token-value-1\"\
                    ,\"createdAt\":\"2025-12-06T02:20:44.80896442\",\"lastUsedAt\"\
                    :null},\"error\":null}"
    put:
      tags:
      - API 토큰
      summary: API 토큰 수정
      description: 기존 API 토큰의 이름과 값을 수정합니다.
      operationId: api-tokens-update
      parameters:
      - name: tokenId
        in: path
        description: 토큰 ID
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateApiTokenRequest"
            examples:
              api-tokens-update:
                value: "{\"name\":\"수정된 토큰 이름\",\"token\":\"updated-api-token-value\"\
                  }"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiTokenResponse"
              examples:
                api-tokens-update:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"id\":1,\"serviceId\"\
                    :\"MAPLESTORY\",\"name\":\"수정된 토큰 이름\",\"token\":\"test-token-value-1\"\
                    ,\"createdAt\":\"2025-12-06T02:20:44.880975049\",\"lastUsedAt\"\
                    :null},\"error\":null}"
    delete:
      tags:
      - API 토큰
      summary: API 토큰 삭제
      description: API 토큰을 삭제합니다.
      operationId: api-tokens-delete
      parameters:
      - name: tokenId
        in: path
        description: 토큰 ID
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MessageResponse"
              examples:
                api-tokens-delete:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"message\":\"API 토큰이\
                    \ 삭제되었습니다.\"},\"error\":null}"
  /api/v1/auth/forgot-password:
    post:
      tags:
      - 인증
      summary: 비밀번호 찾기
      description: 이메일로 비밀번호 재설정 인증번호를 발송합니다.
      operationId: auth-forgot-password
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForgotPasswordRequest"
            examples:
              auth-forgot-password:
                value: "{\"email\":\"user@example.com\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MessageResponse"
              examples:
                auth-forgot-password:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"message\":\"인증번호가 이메\
                    일로 발송되었습니다.\"},\"error\":null}"
  /api/v1/auth/me:
    get:
      tags:
      - 인증
      summary: 내 정보 조회
      description: 현재 로그인한 사용자의 정보를 조회합니다.
      operationId: auth-me
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserResponse"
              examples:
                auth-me:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"id\":\"1\",\"email\":\"user@example.com\",\"nickname\":\"테스트유저\",\"role\":\"USER\",\"createdAt\":\"2025-12-06T02:20:45.106633092\",\"hasPassword\":true,\"profileImageUrl\":null,\"linkedSocialAccounts\":[\"GOOGLE\"]},\"error\":null}"
  /api/v1/auth/refresh:
    post:
      tags:
      - 인증
      summary: 토큰 갱신
      description: 리프레시 토큰으로 새 액세스 토큰을 발급받습니다.
      operationId: auth-refresh
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshTokenRequest"
            examples:
              auth-refresh:
                value: "{\"refreshToken\":\"valid-refresh-token\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TokenResponse"
              examples:
                auth-refresh:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"accessToken\":\"new-access-token\"\
                    ,\"refreshToken\":\"new-refresh-token\",\"tokenType\":\"Bearer\"\
                    ,\"expiresIn\":3600},\"error\":null}"
  /api/v1/auth/signin:
    post:
      tags:
      - 인증
      summary: 로그인
      description: 이메일과 비밀번호로 로그인합니다.
      operationId: auth-signin
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignInRequest"
            examples:
              auth-signin:
                value: "{\"email\":\"user@example.com\",\"password\":\"password123!\"\
                  }"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
              examples:
                auth-signin:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"user\":{\"id\":\"1\"\
                    ,\"email\":\"user@example.com\",\"nickname\":\"테스트유저\",\"role\"\
                    :\"USER\",\"profileImageUrl\":null,\"hasPassword\":true,\"linkedSocialAccounts\"\
                    :[]},\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"},\"\
                    error\":null}"
  /api/v1/auth/signout:
    post:
      tags:
      - 인증
      summary: 로그아웃
      description: 현재 세션에서 로그아웃합니다.
      operationId: auth-signout
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/api-v1-auth-signout-930984925"
              examples:
                auth-signout:
                  value: "{\"result\":\"SUCCESS\",\"data\":null,\"error\":null}"
  /api/v1/auth/signup:
    post:
      tags:
      - 인증
      summary: 회원가입
      description: "이메일, 비밀번호, 닉네임으로 새 계정을 생성합니다."
      operationId: auth-signup
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SignUpRequest"
            examples:
              auth-signup:
                value: "{\"email\":\"user@example.com\",\"password\":\"password123!\"\
                  ,\"nickname\":\"테스트유저\"}"
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
              examples:
                auth-signup:
                  value: "{\"result\":\"SUCCESS\",\"data\":{\"user\":{\"id\":\"1\"\
                    ,\"email\":\"user@example.com\",\"nickname\":\"테스트유저\",\"role\"\
                    :\"USER\",\"profileImageUrl\":null,\"hasPassword\":true,\"linkedSocialAccounts\"\
                    :[]},\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"},\"\
                    error\":null}"
  /api/v1/api-tokens/service/{serviceId}:
    get:
      tags:
      - API 토큰
      summary: 서비스별 API 토큰 목록 조회
      description: 특정 서비스의 API 토큰 목록을 조회합니다.
      operationId: api-tokens-get-by-service
      parameters:
      - name: serviceId
        in: path
        description: "서비스 ID (MAPLESTORY, LOSTARK)"
        required: true
        schema:
          type: string
      responses:
        "200":
          description: "200"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiTokenListResponse"
              examples:
                api-tokens-get-by-service:
                  value: "{\"result\":\"SUCCESS\",\"data\":[{\"id\":1,\"serviceId\"\
                    :\"MAPLESTORY\",\"name\":\"메이플 토큰 1\",\"token\":\"test-token-value-1\"\
                    ,\"createdAt\":\"2025-12-06T02:20:44.783813003\",\"lastUsedAt\"\
                    :null},{\"id\":2,\"serviceId\":\"MAPLESTORY\",\"name\":\"메이플 토\
                    큰 2\",\"token\":\"test-token-value-2\",\"createdAt\":\"2025-12-06T02:20:44.783821289\"\
                    ,\"lastUsedAt\":null}],\"error\":null}"
components:
  schemas:
    UpdateApiTokenRequest:
      title: UpdateApiTokenRequest
      required:
      - name
      - token
      type: object
      properties:
        name:
          type: string
          description: 토큰 이름
        token:
          type: string
          description: API 토큰 값
    TokenResponse:
      title: TokenResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - accessToken
          - expiresIn
          - refreshToken
          - tokenType
          type: object
          properties:
            expiresIn:
              type: number
              description: 만료 시간 (초)
            tokenType:
              type: string
              description: 토큰 타입 (Bearer)
            accessToken:
              type: string
              description: 새 액세스 토큰
            refreshToken:
              type: string
              description: 새 리프레시 토큰
          description: 응답 데이터
    api-v1-auth-signout-930984925:
      required:
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
    RefreshTokenRequest:
      title: RefreshTokenRequest
      required:
      - refreshToken
      type: object
      properties:
        refreshToken:
          type: string
          description: 리프레시 토큰
    ApiTokenResponse:
      title: ApiTokenResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - createdAt
          - id
          - name
          - serviceId
          - token
          type: object
          properties:
            createdAt:
              type: string
              description: 생성일시
            lastUsedAt:
              type: string
              description: 마지막 사용일시
              nullable: true
            name:
              type: string
              description: 토큰 이름
            id:
              type: number
              description: 토큰 ID
            serviceId:
              type: string
              description: 서비스 ID
            token:
              type: string
              description: API 토큰 값
          description: 토큰 정보
    ForgotPasswordRequest:
      title: ForgotPasswordRequest
      required:
      - email
      type: object
      properties:
        email:
          type: string
          description: 이메일 주소
    SaveNicknameResultResponse:
      title: SaveNicknameResultResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - message
          - savedCount
          type: object
          properties:
            message:
              type: string
              description: 결과 메시지
            savedCount:
              type: number
              description: 저장된 닉네임 수
          description: 응답 데이터
    RegisterApiTokenRequest:
      title: RegisterApiTokenRequest
      required:
      - name
      - serviceId
      - token
      type: object
      properties:
        name:
          type: string
          description: 토큰 이름
        serviceId:
          type: string
          description: "서비스 ID (MAPLESTORY, LOSTARK)"
        token:
          type: string
          description: API 토큰 값
    SaveNicknameRequestList:
      title: SaveNicknameRequestList
      type: array
      items:
        required:
        - game
        - nickname
        type: object
        properties:
          game:
            type: string
            description: "게임 (MAPLESTORY, LOSTARK)"
          worldName:
            type: string
            description: 월드/서버 이름
            nullable: true
          nickname:
            type: string
            description: 닉네임
          className:
            type: string
            description: 직업명
            nullable: true
          characterLevel:
            type: number
            description: 캐릭터 레벨
            nullable: true
          guildName:
            type: string
            description: 길드명
            nullable: true
    NicknamePageResponse:
      title: NicknamePageResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - currentPage
          - hasNext
          - nicknames
          - pageSize
          - totalElements
          - totalPages
          type: object
          properties:
            totalPages:
              type: number
              description: 전체 페이지 수
            pageSize:
              type: number
              description: 페이지 크기
            hasNext:
              type: boolean
              description: 다음 페이지 존재 여부
            nicknames:
              type: array
              description: 닉네임 목록
              items:
                required:
                - createdAt
                - games
                - id
                - nickname
                - rarity
                - score
                - updatedAt
                type: object
                properties:
                  createdAt:
                    type: string
                    description: 생성일시
                  score:
                    type: number
                    description: 닉네임 점수
                  games:
                    type: array
                    description: 등록된 게임 목록
                    items:
                      oneOf:
                      - type: object
                      - type: boolean
                      - type: string
                      - type: number
                  nickname:
                    type: string
                    description: 닉네임
                  lostArkInfo:
                    type: object
                    description: 로스트아크 캐릭터 정보
                    nullable: true
                  id:
                    type: number
                    description: 닉네임 ID
                  mapleStoryInfo:
                    type: object
                    description: 메이플스토리 캐릭터 정보
                    nullable: true
                  updatedAt:
                    type: string
                    description: 수정일시
                  rarity:
                    type: string
                    description: 희귀도
            currentPage:
              type: number
              description: 현재 페이지
            totalElements:
              type: number
              description: 전체 항목 수
          description: 응답 데이터
    ApiTokenListResponse:
      title: ApiTokenListResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          type: array
          description: 토큰 목록
          items:
            required:
            - createdAt
            - id
            - name
            - serviceId
            - token
            type: object
            properties:
              createdAt:
                type: string
                description: 생성일시
              lastUsedAt:
                type: string
                description: 마지막 사용일시
                nullable: true
              name:
                type: string
                description: 토큰 이름
              id:
                type: number
                description: 토큰 ID
              serviceId:
                type: string
                description: "서비스 ID (MAPLESTORY, LOSTARK)"
              token:
                type: string
                description: API 토큰 값
    AuthResponse:
      title: AuthResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - token
          - user
          type: object
          properties:
            user:
              required:
              - email
              - hasPassword
              - id
              - linkedSocialAccounts
              - nickname
              - role
              type: object
              properties:
                linkedSocialAccounts:
                  type: array
                  description: 연동된 소셜 계정
                  items:
                    oneOf:
                    - type: object
                    - type: boolean
                    - type: string
                    - type: number
                role:
                  type: string
                  description: 역할
                nickname:
                  type: string
                  description: 닉네임
                hasPassword:
                  type: boolean
                  description: 비밀번호 설정 여부
                id:
                  type: string
                  description: 사용자 ID
                profileImageUrl:
                  type: string
                  description: 프로필 이미지 URL
                  nullable: true
                email:
                  type: string
                  description: 이메일
              description: 사용자 정보
            token:
              type: string
              description: JWT 액세스 토큰
          description: 응답 데이터
    SignInRequest:
      title: SignInRequest
      required:
      - email
      - password
      type: object
      properties:
        password:
          type: string
          description: 비밀번호
        email:
          type: string
          description: 이메일 주소
    SignUpRequest:
      title: SignUpRequest
      required:
      - email
      - nickname
      - password
      type: object
      properties:
        password:
          type: string
          description: 비밀번호 (8자 이상)
        nickname:
          type: string
          description: 닉네임 (2-50자)
        email:
          type: string
          description: 이메일 주소
    MessageResponse:
      title: MessageResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - message
          type: object
          properties:
            message:
              type: string
              description: 결과 메시지
          description: 응답 데이터
    UserResponse:
      title: UserResponse
      required:
      - data
      - result
      type: object
      properties:
        result:
          type: string
          description: API 결과
        data:
          required:
          - createdAt
          - email
          - hasPassword
          - id
          - linkedSocialAccounts
          - nickname
          - role
          type: object
          properties:
            linkedSocialAccounts:
              type: array
              description: 연동된 소셜 계정
              items:
                oneOf:
                - type: object
                - type: boolean
                - type: string
                - type: number
            createdAt:
              type: string
              description: 가입일
            role:
              type: string
              description: 역할
            nickname:
              type: string
              description: 닉네임
            hasPassword:
              type: boolean
              description: 비밀번호 설정 여부
            id:
              type: string
              description: 사용자 ID
            profileImageUrl:
              type: string
              description: 프로필 이미지 URL
              nullable: true
            email:
              type: string
              description: 이메일
          description: 응답 데이터
